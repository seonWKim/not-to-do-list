(function(e){function t(t){for(var o,s,i=t[0],u=t[1],l=t[2],d=0,m=[];d<i.length;d++)s=i[d],r[s]&&m.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/not-to-do-list/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},1755:function(e,t,n){"use strict";var o=n("cb7f"),r=n.n(o);r.a},"17ad":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=n("ecee"),a=n("c074"),s=n("ad3d");r["c"].add(a["a"]),o["a"].component("AppIcon",s["a"]);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},u=[],l={created:function(){window.addEventListener("beforeunload",this.beforeWindowUnload)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.beforeWindowUnload)},methods:{beforeWindowUnload:function(e){this.$store.commit("SAVE_ALL_BOARDS")}}},c=l,d=(n("034f"),n("2877")),m=Object(d["a"])(c,i,u,!1,null,null,null),f=m.exports,p=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board flex flex-col justify-between"},[n("div",{staticClass:"column flex justify-center mb-3",staticStyle:{"max-width":"350px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newColumnName,expression:"newColumnName"}],staticClass:"p-2 mr-2 flex-grow",attrs:{type:"text",placeholder:"Enter New Column Name"},domProps:{value:e.newColumnName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createColumn(t)},input:function(t){t.target.composing||(e.newColumnName=t.target.value)}}}),n("button",{on:{click:function(t){return e.addToday(t)}}},[e._v("Add Today")])]),n("div",{staticClass:"flex flex-start"},[e._l(e.boardNames,function(t,o){return n("button",{key:o,staticClass:"board-names",on:{click:function(t){return e.changeBoard(o)}}},[e._v(e._s(t)+"\n    ")])}),n("button",{staticClass:"board-names",on:{click:e.addBoard}},[e._v("+")])],2),n("div",{staticClass:"flex flex-wrap mb-auto"},e._l(e.board.columns,function(t,o){return n("BoardColumn",{key:o,class:{"mb-3":!0},attrs:{column:t,columnIndex:o,board:e.board}})}),1),n("div",{staticClass:"flex"},[n("button",{staticClass:"button text-teal-darker text-xl p-2 mr-3",on:{click:e.saveToDisk}},[e._v("\n      Save to disk\n    ")]),n("label",{staticClass:"button text-teal-darker text-xl p-2 mr-3",staticStyle:{cursor:"pointer"},attrs:{for:"boards-file"}},[e._v("\n        Upload from disk\n      "),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"boards-file",accept:"application/json"},on:{change:function(t){return e.uploadFromDisk(t)}}})]),n("button",{staticClass:"button text-red text-xl p-2 mr-3",on:{click:e.resetAll}},[e._v("\n      Reset all\n    ")]),n("button",{staticClass:"button text-red text-xl p-2",on:{click:e.removeBoard}},[e._v("\n      Remove board\n    ")])]),e.isTaskOpen?n("div",{staticClass:"task-bg",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("router-view")],1):e._e()])},v=[],h=n("f499"),k=n.n(h),x=(n("7f7f"),n("cebc")),g=n("2f62"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppDrop",{on:{drop:e.moveTaskOrColumn}},[n("AppDrag",{staticClass:"column",attrs:{transferData:{type:"column",fromColumnIndex:e.columnIndex}}},[n("div",{staticClass:"flex justify-between"},[n("input",{staticClass:"flex items-center mb-2 font-bold text-color-green bg-transparent",attrs:{type:"text"},domProps:{value:e.column.name},on:{change:function(t){return e.updateColumnName(t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateColumnName(t)}}}),n("div",{staticClass:"flex"},[n("div",{style:{"max-width":"3px","margin-right":"25px",color:e.$store.state.board.columns[this.columnIndex].freeze?"#3B82F6":"#9CA3AF",cursor:e.mouseOverDeleteIcon?"pointer":"default"},on:{mouseover:function(t){e.mouseOverCheckIcon=!0},mouseleave:function(t){e.mouseOverCheckIcon=!1},click:function(t){return e.reverseFreeze(e.columnIndex)}}},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}),n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"}})])]),n("div",{style:{"max-width":"3px","margin-right":"20px",cursor:e.mouseOverDeleteIcon?"pointer":"default",color:e.mouseOverDeleteIcon?"#EF4444":"#9CA3AF"},on:{mouseover:function(t){e.mouseOverDeleteIcon=!0},mouseleave:function(t){e.mouseOverDeleteIcon=!1},click:function(t){return e.deleteColumn(e.columnIndex)}}},[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"}})])])])]),n("div",{staticClass:"list-reset"},[e._l(e.column.tasks,function(t,o){return n("ColumnTask",{key:o,attrs:{task:t,taskIndex:o,column:e.column,columnIndex:e.columnIndex,board:e.board}})}),n("input",{staticClass:"block p-2 w-full bg-transparent",attrs:{type:"text",placeholder:"+ Enter new task"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createTask(t,e.column.tasks)}}})],2)])],1)},C=[],w=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppDrop",{on:{drop:e.moveTaskOrColumn}},[n("AppDrag",{staticClass:"task",attrs:{transferData:{type:"task",fromColumnIndex:e.columnIndex,fromTaskIndex:e.taskIndex}},nativeOn:{click:function(t){return e.goToTask(e.task)}}},[n("div",{staticClass:"w-full flex-no-shrink font-bold flex justify-between"},[n("div",[e._v(e._s(e.task.name))]),n("div")]),e.task.description?n("p",{staticClass:"w-full flex-no-shrink mt-1 text-sm"},[e._v("\n        "+e._s(e.task.description)+"\n      ")]):e._e()])],1)}),O=[],_={props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},board:{type:Object,required:!0}},methods:{moveTaskOrColumn:function(e){"task"===e.type?this.moveTask(e):this.moveColumn(e)},moveTask:function(e){var t=e.fromColumnIndex,n=e.fromTaskIndex,o=!!this.board.columns[t].isBaseColumn;if(o||!this.column.freeze&&!this.board.columns[t].freeze){var r=this.board.columns[t].tasks;r!==this.column.tasks&&this.$store.commit("MOVE_TASK",{fromTasks:r,fromTaskIndex:n,toTasks:this.column.tasks,toTaskIndex:this.taskIndex,isBaseColumn:o})}},moveColumn:function(e){var t=e.fromColumnIndex;if(!this.column.freeze){var n=!!this.board.columns[t].isBaseColumn;this.$store.commit("MOVE_COLUMN",{fromColumnIndex:t,toColumnIndex:this.columnIndex,isBaseColumn:n})}}}},T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{draggable:""},on:{dragstart:function(t){return t.target!==t.currentTarget?null:e.onDrag(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[e._t("default")],2)},I=[],A={props:{transferData:{type:Object,required:!0}},methods:{onDrag:function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("payload",k()(this.transferData))}}},D=A,E=Object(d["a"])(D,T,I,!1,null,"0a791fe0",null),B=E.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{drop:function(t){return t.stopPropagation(),e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[e._t("default")],2)},$=[],N={methods:{onDrop:function(e){var t=JSON.parse(e.dataTransfer.getData("payload"));this.$emit("drop",t)}}},S=N,R=Object(d["a"])(S,j,$,!1,null,"0b34068e",null),M=R.exports,L={components:{AppDrag:B,AppDrop:M},mixins:[_],props:{task:{type:Object,required:!0},taskIndex:{type:Number,required:!0},columnIndex:{type:Number}},methods:{goToTask:function(e){this.$router.push({name:"task",params:{id:e.id,columnIndex:this.columnIndex,taskIndex:this.taskIndex}})},deleteTask:function(){var e=this.columnIndex,t=this.taskIndex;this.$store.commit("REMOVE_TASK",{columnIndex:e,taskIndex:t})}}},z=L,U=(n("5804"),Object(d["a"])(z,w,O,!1,null,null,null)),P=U.exports,V={name:"BoardColumn",components:{ColumnTask:P,AppDrag:B,AppDrop:M},props:{columnIndex:Number},mixins:[_],data:function(){return{mouseOverCheckIcon:!1,mouseOverDeleteIcon:!1}},methods:{createTask:function(e,t){this.$store.commit("CREATE_TASK",{tasks:t,name:e.target.value}),e.target.value=""},reverseFreeze:function(e){var t=this.$store.state.board.columns[e];(t.freeze||window.confirm("If you freeze a column you won't be able to move tasks around. Confirm you want to freeze?"))&&(void 0===t.freeze&&(t.freeze=!1),t.freeze=!t.freeze)},deleteColumn:function(e){var t=this.$store.state.board.columns[e];t.freeze?alert("This column is frozen. You can't delete a frozen column"):this.$store.state.board.columns[e].isBaseColumn?alert("You can't delete a base column"):window.confirm("Are you sure you want to delete this column?")&&this.$store.commit("DELETE_COLUMN",{columnIndex:e})},updateColumnName:function(e){this.$store.commit("UPDATE_COLUMN_NAME",{name:e.target.value,columnIndex:this.columnIndex})}}},F=V,K=(n("f9e1"),Object(d["a"])(F,y,C,!1,null,null,null)),Y=K.exports,q={components:{BoardColumn:Y},data:function(){return{newColumnName:""}},computed:Object(x["a"])({},Object(g["c"])(["board"]),{isTaskOpen:function(){return"task"===this.$route.name},boardNames:function(){return this.$store.state.boards.map(function(e){return e.name})}}),methods:{close:function(){this.$router.push({name:"board"})},createColumn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.newColumnName;this.$store.commit("CREATE_COLUMN",{name:t}),this.newColumnName=""},addToday:function(e){var t=new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),o=this.$store.state.board.columns;if(o.length>=2&&o[1].name===n){var r=window.confirm("You've already registered today's record. Register again?");if(!r)return}this.createColumn(e,n)},saveToDisk:function(){var e=this.$store.state.boards,t=new Blob([k()(e)],{type:"application/json"}),n=document.createElement("a");document.body.appendChild(n);var o=window.URL.createObjectURL(t);n.href=o,n.download="not-to-do-list.json",n.click(),window.URL.revokeObjectURL(o)},uploadFromDisk:function(e){var t=this;try{var n=e.target.files;if(!n.length)return void alert("No file selected!");var o=n[0],r=new FileReader;r.onload=function(e){t.$store.commit("SAVE_ALL_BOARDS",JSON.parse(e.target.result))},r.readAsText(o)}catch(a){alert("Errors on uploading file")}},resetAll:function(){window.confirm("Resetting columns will erase all the data. Are you sure you want to reset?")&&this.$store.commit("RESET_ALL")},addBoard:function(){this.$store.commit("ADD_BOARD")},changeBoard:function(e){this.$store.commit("CHANGE_BOARD",{boardIndex:e})},removeBoard:function(){this.$store.commit("REMOVE_BOARD")}}},J=q,W=(n("1755"),Object(d["a"])(J,b,v,!1,null,"0e0de425",null)),H=W.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"task-view"},[n("div",{staticClass:"flex flex-col flex-grow items-start justify-between px-4"},[n("input",{staticClass:"p-2 w-full mr-2 block text-xl font-bold",attrs:{type:"text"},domProps:{value:e.task.name},on:{change:function(t){return e.updateTaskProperty(t,"name")},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateTaskProperty(t,"name")}}}),n("textarea",{staticClass:"relative w-full bg-transparent px-2 border mt-2 h-64 leading-normal",domProps:{value:e.task.description},on:{change:function(t){return e.updateTaskProperty(t,"description")}}}),n("div",{staticClass:"w-full flex justify-end"},[n("button",{staticClass:"mt-2 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold py-2 px-4 border border-blue-500 rounded",on:{click:e.deleteTask}},[e._v("\n        delete\n      ")])])])])},Q=[],X={computed:Object(x["a"])({},Object(g["b"])(["getTask"]),{task:function(){return this.getTask(this.$route.params.id)}}),methods:{updateTaskProperty:function(e,t){this.$store.commit("UPDATE_TASK",{task:this.task,key:t,value:e.target.value})},deleteTask:function(){if(window.confirm("Confirm you want to delete?")){var e=this.$route.params.columnIndex,t=this.$route.params.taskIndex;this.$store.commit("REMOVE_TASK",{columnIndex:e,taskIndex:t}),this.$router.push({name:"board"})}}}},Z=X,ee=(n("b39f"),Object(d["a"])(Z,G,Q,!1,null,null,null)),te=ee.exports;o["a"].use(p["a"]);var ne=new p["a"]({mode:"history",base:"/not-to-do-list/",routes:[{path:"/",name:"board",component:H,children:[{path:"task/:id",name:"task",component:te,props:{columnIndex:!0,taskIndex:!0}}]}]});n("6b54");function oe(){return Math.random().toString(16).slice(2)}function re(e){e.subscribe(function(t,n){n.boards[n.boardIndex]=e.state.board})}var ae={boardDefault:{boardEmpty:{name:"EMPTY_BOARD",columns:[{name:"EMPTY_BOARD",isBaseColumn:!0,freeze:!0,createdAt:(new Date).getTime(),tasks:[]}]},boards:[{name:"NOT_TO_DO_LIST",columns:[{name:"NOT_TO_DO_LIST",isBaseColumn:!0,freeze:!0,createdAt:(new Date).getTime(),tasks:[{description:"",name:"Wake up late in the morning(after 8 a.m.)",id:oe(),userAssigned:null},{description:"",name:"Using smartphone right after wakeup",id:oe(),userAssigned:null},{description:"",name:"Use smartphone before sleeping",id:oe(),userAssigned:null},{description:"",name:"Using kakao talk when studying",id:oe(),userAssigned:null}]}]},{name:"BOARD 2",columns:[{name:"BOARD 2",isBaseColumn:!0,freeze:!0,createdAt:(new Date).getTime(),tasks:[]}]},{name:"BOARD 3",columns:[{name:"BOARD 3",isBaseColumn:!0,freeze:!0,createdAt:(new Date).getTime(),tasks:[]}]}]}},se=n("2ef0"),ie=n.n(se),ue=n("6297"),le=n.n(ue),ce=n("5d73"),de=n.n(ce),me={getTask:function(e){return function(t){var n=!0,o=!1,r=void 0;try{for(var a,s=de()(e.board.columns);!(n=(a=s.next()).done);n=!0){var i=a.value,u=!0,l=!1,c=void 0;try{for(var d,m=de()(i.tasks);!(u=(d=m.next()).done);u=!0){var f=d.value;if(f.id===t)return f}}catch(p){l=!0,c=p}finally{try{u||null==m.return||m.return()}finally{if(l)throw c}}}}catch(p){o=!0,r=p}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}}},getBoardNames:function(e){return e.boards.map(function(e){return e.name})}},fe={SAVE_ALL_BOARDS:function(e,t){t||(t=e.boards),localStorage.setItem("boards",k()(e.boards))},ADD_BOARD:function(e){e.boards.push(ie.a.cloneDeep(ae.boardDefault.boardEmpty)),e.boardIndex=e.boards.length-1,e.board=e.boards[e.boardIndex]},CHANGE_BOARD:function(e,t){var n=t.boardIndex;e.boardIndex=n,e.board=e.boards[n]},REMOVE_BOARD:function(e){e.boards.length<=1?alert("You can't remove the last board"):window.confirm("Confirm deleting board ".concat(e.board.name,"?"))&&(e.boards.splice(e.boardIndex,1),e.boardIndex===e.boards.length&&(e.boardIndex=e.boardIndex-1),e.board=e.boards[e.boardIndex])},CREATE_TASK:function(e,t){var n=t.tasks,o=t.name;n.push({name:o,freeze:!1,id:oe(),description:""})},UPDATE_TASK:function(e,t){var n=t.task,o=t.key,r=t.value;n[o]=r},MOVE_TASK:function(e,t){var n=t.fromTasks,o=t.toTasks,r=t.fromTaskIndex,a=t.toTaskIndex,s=t.isBaseColumn,i=void 0!==s&&s,u=ie.a.cloneDeep(n[r]);i||n.splice(r,1),u.id=oe(),o.splice(a,0,u)},REMOVE_TASK:function(e,t){var n=t.columnIndex,o=t.taskIndex;e.board.columns[n].tasks.splice(o,1)},CREATE_COLUMN:function(e,t){var n=t.name,o={name:n,freeze:!1,createdAt:(new Date).getTime(),tasks:[]};e.board.columns.splice(1,0,o)},MOVE_COLUMN:function(e,t){var n=t.fromColumnIndex,o=t.toColumnIndex,r=t.isBaseColumn,a=void 0!==r&&r,s=e.board.columns;if(!(a||s[o].freeze||s[n].freeze)){var i=s.splice(n,1)[0];s.splice(o,0,i)}},UPDATE_COLUMN_NAME:function(e,t){var n=t.name,o=t.columnIndex;e.board.columns[o].name=n,e.board.columns[o].isBaseColumn&&(e.board.name=n)},DELETE_COLUMN:function(e,t){var n=t.columnIndex;e.board.columns.splice(n,1)},RESET_ALL:function(e){localStorage.removeItem("boards");var t=ie.a.cloneDeep(ae.boardDefault.boards);e.boardIndex=0,e.board=t[0],e.boards=t}};o["a"].use(g["a"]);var pe=ie.a.cloneDeep(localStorage&&JSON.parse(localStorage.getItem("boards"))||ae.boardDefault.boards),be=pe[0],ve=0,he=new g["a"].Store({plugins:[re],state:Object(x["a"])({board:be,boards:pe,boardIndex:ve},le.a),getters:Object(x["a"])({},me),mutations:Object(x["a"])({},fe)}),ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button",class:e.typeClasses,attrs:{type:"button"}},[e._t("default")],2)},xe=[],ge={props:{type:{type:String}},computed:{typeClasses:function(){switch(this.type){case"danger":return"bg-red";default:return"bg-teal"}}}},ye=ge,Ce=(n("b9b4"),Object(d["a"])(ye,ke,xe,!1,null,"460433cb",null)),we=Ce.exports;o["a"].component("AppButton",we),o["a"].config.productionTip=!1,new o["a"]({router:ne,store:he,render:function(e){return e(f)}}).$mount("#app")},5804:function(e,t,n){"use strict";var o=n("bc54"),r=n.n(o);r.a},6297:function(e,t){},"64a9":function(e,t,n){},"6eff":function(e,t,n){},aedd:function(e,t,n){},b39f:function(e,t,n){"use strict";var o=n("aedd"),r=n.n(o);r.a},b9b4:function(e,t,n){"use strict";var o=n("6eff"),r=n.n(o);r.a},bc54:function(e,t,n){},cb7f:function(e,t,n){},f9e1:function(e,t,n){"use strict";var o=n("17ad"),r=n.n(o);r.a}});
//# sourceMappingURL=app.711109bb.js.map